<Window x:Class="StalkingStairsModManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Stalking Stairs Mod Manager"
        Height="560" Width="980"
        Background="#070607"
        WindowStartupLocation="CenterScreen">

    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left panel: title + controls -->
        <Border Grid.Column="0" Margin="0,0,12,0" Padding="16" CornerRadius="8" Background="#0E0A0A" BorderBrush="#3A0000" BorderThickness="2">
            <StackPanel>
                <TextBlock Text="STALKING STAIRS" Foreground="#FF3B3B" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="MOD MANAGER" Foreground="#B84B4B" FontSize="12" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,2,0,12"/>

                <TextBlock Text="Game Path" Foreground="#CFCFCF" FontWeight="Bold" Margin="0,4"/>
                <TextBlock x:Name="PathStatus" Text="Detecting..." TextWrapping="Wrap" Foreground="#999" Margin="0,2,0,8"/>

                <StackPanel Orientation="Vertical" Margin="0,8,0,0">
                    <Button Content="Install / Update BepInEx" Click="InstallBepInEx_Click" Margin="0,6,0,0" Height="36" Background="#220000" Foreground="White"/>
                    <Button Content="Refresh Mods" Click="RefreshMods_Click" Margin="0,6,0,0" Height="36" Background="#220000" Foreground="White"/>
                    <Button Content="Open Mods Folder" Click="OpenMods_Click" Margin="0,6,0,0" Height="36" Background="#220000" Foreground="White"/>
                    <Button Content="Uninstall Mods" Click="UninstallMods_Click" Margin="0,6,0,0" Height="36" Background="#220000" Foreground="White"/>
                </StackPanel>

                <TextBlock Text="Tip: BepInEx is always enabled and forced to the requested version." Foreground="#888" FontSize="11" Margin="0,12,0,0" TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

        <!-- Right panel: mods grid -->
        <Border Grid.Column="1" Padding="10" Background="#09080A" BorderBrush="#2E0000" BorderThickness="2" CornerRadius="8">
            <DockPanel LastChildFill="False">
                <TextBlock DockPanel.Dock="Top" Text="Available Mods" FontSize="16" Foreground="#FF5A5A" FontWeight="Bold" Margin="4"/>

                <!-- DataGrid docked to Top and sized to its content (fixed column widths).
                     Entire grid set ReadOnly=true so text columns are not editable; Enabled column is explicitly editable. -->
                <DataGrid x:Name="ModsGrid"
                          DockPanel.Dock="Top"
                          Background="#111"
                          Foreground="White"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          BorderBrush="#440000"
                          RowBackground="#0C0C0C"
                          AlternatingRowBackground="#101010"
                          CanUserResizeColumns="False"
                          CanUserResizeRows="False"
                          CanUserReorderColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          RowHeight="28"
                          HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto"
                          VerticalAlignment="Top"
                          Margin="0">

                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#220000"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Padding" Value="6,4"/>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>

                    <DataGrid.Columns>
                        <!-- Enabled remains editable -->
                        <DataGridCheckBoxColumn Header="Enabled"
                                                Binding="{Binding enabled}"
                                                Width="60"
                                                CanUserResize="False"
                                                IsReadOnly="False"/>

                        <!-- Mod column shows "Name - Version" via DisplayName and is read-only -->
                        <DataGridTextColumn Header="Mod"
                                            Binding="{Binding DisplayName}"
                                            Width="320"
                                            CanUserResize="False"
                                            IsReadOnly="True"/>

                        <!-- Author column read-only -->
                        <DataGridTextColumn Header="Author"
                                            Binding="{Binding author}"
                                            Width="160"
                                            CanUserResize="False"
                                            IsReadOnly="True"/>

                        <!-- Description and Version removed; space minimized by fixed widths -->
                    </DataGrid.Columns>
                </DataGrid>

                <StatusBar DockPanel.Dock="Bottom" Background="#080606" BorderThickness="0" Padding="6">
                    <StatusBarItem>
                        <TextBlock x:Name="StatusText" Text="Ready" Foreground="#DDD"/>
                    </StatusBarItem>
                </StatusBar>
            </DockPanel>
        </Border>
    </Grid>
</Window>